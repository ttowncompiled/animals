<div class="container">
  
  <!-- Question Panels -->
  <div *ng-for="#q of questions" class="row">
    <div class="col-md-6 col-md-offset-3">
      <div class="panel panel-default">
        <div class="panel-heading">question {{ q.value }}</div>
        <div class="panel-body">
          <!-- Animals -->
          <div *ng-for="#animal of q.animals" class="row" style="margin-bottom:15px;">
            <form [ng-form-model]="animal">
              <div class="col-md-3">
                <select [ng-form-control]="animal.controls['name']" class="form-control">
                  <option *ng-for="#name of ANIMAL_NAMES" [value]="name">{{ capitalize(name) }}</option>
                </select>
              </div>
              <div class="col-md-9">
                <div class="input-group">
                  <span class="input-group-addon">
                    <input type="checkbox" [ng-form-control]="animal.controls['flag']">
                  </span>
                  <input type="text" [ng-form-control]="animal.controls['count']" class="form-control">
                  <span class="input-group-addon">
                    <button type="button" (click)="removeAnimal(q.value, animal.controls['name'].value)" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                  </span>
                </div>
              </div>
            </form>
          </div>
          <!-- Selector to add a new animal -->
          <div class="row" style="margin-bottom:15px;">
            <div class="col-md-3">
              <select [ng-form-control]="q.new_animal" class="form-control">
                <option value="none" selected></option>
                <option *ng-for="#name of ANIMAL_NAMES" [value]="name">{{ capitalize(name) }}</option>
              </select>
            </div>
          </div>
          <!-- Button to remove the question -->
          <div class="row">
            <div class="col-md-1 col-md-offset-5">
              <button type="button" (click)="removeQuestion(q.value)" class="btn btn-danger btn-sm">remove question</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Next Question Panel -->
  <div class="row">
    <div class="col-md-6 col-md-offset-3">
      <div class="panel panel-default">
        <div class="panel-heading">next question</div>
        <div class="panel-body">
          <div class="row">
            <div class="col-md-3">
              <select [ng-form-control]="new_question" class="form-control">
                <option value="none" selected></option>
                <option *ng-for="#name of ANIMAL_NAMES" [value]="name">{{ capitalize(name) }}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>